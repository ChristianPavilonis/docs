article, .markdown {
    background: white;
    @apply text-gray-darkest leading-relaxed;

    h1 {
        @apply font-sans text-black font-extrabold text-5xl lg:text-6xl mb-6;
    }

    h2 {
        @apply font-sans text-black font-extrabold text-3xl mb-6 mt-16 relative;
    }

    h2:not(:first-of-type) {
        @apply border-t border-gray-light border-dashed pt-16;
    }

    h3 {
        @apply font-sans text-black font-bold text-xl mb-2 mt-12 relative;
    }

    h4 {
        @apply font-sans text-black font-bold text-lg mb-0 mt-12 relative;
    }

    p {
        @apply text-base md:text-lg mb-6;
        /* line-height: 1.5em; */
    }

    ul, ol {
        @apply mt-4 mb-6;
    }

    a {
        @apply text-pink font-medium underline;

        &:hover {
            @apply text-purple;
        }
    }

    a svg.external {
        @apply inline-block text-gray-dark;
        vertical-align: text-top;
    }

    h2 > .anchor,
    h3 > .anchor {
        @apply absolute top-0 no-underline text-white opacity-0 block;
        text-shadow: -1px -1px 0 theme('colors.pink.DEFAULT'),
            1px -1px 0 theme('colors.pink.DEFAULT'),
            -1px 1px 0 theme('colors.pink.DEFAULT'),
            1px 1px 0 theme('colors.pink.DEFAULT');
        transition: all .2s ease-in-out;
        &:hover {
            @apply text-pink;
            text-shadow: none;
        }
    }

    h2 > .anchor {
        @apply -left-6 pr-4 top-16;
    }

    h2:hover > .anchor {
        @apply -left-8 opacity-100;
    }

    h3 > .anchor {
        @apply -left-3 pr-2;
    }

    h3:hover > .anchor {
        @apply -left-5 opacity-100;
    }

    > ul:not(.list-none) {
        @apply pl-0 list-none mb-6 text-base;

        li {
            @apply relative pl-6 mb-2;

            &::before {
                @apply absolute inline-block;
                content: url('/img/triangle-pink.svg');
                top: 6px;
                left: 2px;
            }

            &:nth-child(3n+0)::before {
                content: url('/img/triangle-pink.svg');
            }

            &:nth-child(3n+1)::before {
                content: url('/img/triangle-purple.svg');
            }

            &:nth-child(3n+2)::before {
                content: url('/img/triangle-teal.svg');
            }

            a {
                @apply underline text-pink font-bold;

                &:hover {
                    @apply text-pink;
                }
            }
        }
    }

    > ol {
        @apply list-none text-base md:text-lg;
        counter-reset: item;

        >li {
            @apply relative pl-10 mb-2;
        }

        >li::before {
            @apply absolute top-0 left-0 mt-px flex items-center justify-center h-6 w-6 bg-yellow rounded-full text-lg font-bold font-display;
            content: counter(item);
            counter-increment: item;
        }
    }

    table {
        @apply border rounded-md border-separate overflow-hidden w-full mb-6;
        border-spacing: 0;

        thead {
            @apply bg-black text-white font-display font-bold text-lg;
            th {
                @apply px-3 py-2 md:px-5 text-left;
            }
        }
        tbody {
            tr {
                @apply even:bg-gray-lightest;
            }
            tr:last-child {
                @apply rounded-b;
            }
            td {
                @apply px-3 py-2 md:px-5 md:py-3;
            }
            p {
                @apply text-sm md:text-base leading-tight;
            }
            :not(pre) > code {
                @apply bg-transparent text-xs md:text-sm font-bold text-purple;
            }
        }
    }

    /* Code blocks in headers */
    h1>code,
    h2>code,
    h3>code,
    h4>code {
        @apply text-pink bg-gray-light rounded relative;
        font-size: 90%;
        padding: .1em .2em;
        bottom: .05rem;
    }
}
/*
@media screen(md) {
    article h1, .markdown h1 {
        @apply text-7xl;
    }
} */

article, .markdown {
    blockquote {
        p { @apply text-base; }
        &:before {
            content: '';
            background: url('/img/label-tip.svg') no-repeat;
            height: 40px;
            width: 94px;
            position: absolute;
            top: -16px;
            left: -12px;
            z-index: 2;
        }

        &.warning {
            &:before {
                background: url('/img/label-warning.svg') no-repeat;
            }
        }

        &.best-practice {
            &:before {
                background: url('/img/label-best-practice.svg') no-repeat;
                height: 48px;
                width: 138px;
                top: -18px;
                left: -16px;
            }
        }
    }
}

.markdown-tight, table {
    h1, h2, h3, h4, h5, h6 {
        @apply m-0;
    }

    p, ul, ol {
        font-size: inherit;
    }

    p:last-child {
        @apply mb-0;
    }
}

header.markdown > p {
    @apply text-xl leading-normal;
}

.parameter .markdown {
    p {
        @apply text-base;
    }

    :not(pre)>code {
        @apply bg-transparent text-purple font-bold text-sm;
    }
}

.toc {
    @apply font-display py-3 space-y-4;
    list-style-type: decimal;
    list-style-position: inside;

    li {
        @apply px-2 leading-tight text-base;
    }

    li a {
        @apply text-black no-underline hover:text-pink font-medium;
    }
}

@media screen(lg) {
    .toc {
        column-count: 3;
        column-rule: 1px dashed theme('colors.black');
    }
}

/* pre.language-markdown code {
    white-space: pre-line !important;
} */


ul.list-col {
    @apply space-y-2 mt-2;
    column-count: 2;

    li {
        @apply pr-5;
    }

    li a {
        @apply text-black no-underline hover:text-pink;
    }
}

@media screen(lg) {
    ul.list-col {
        column-count: 3;
    }
}




/*
 Margin and rounding are personal preferences,
 overflow-x-auto is recommended.
*/
pre {
    @apply my-6 rounded overflow-x-auto leading-loose antialiased;
}

/*
  Inline code
*/
:not(pre) > code {
    @apply text-purple rounded;
    padding: 1px 2px;
    font-size: 15px;
    background-color: #E7ECF1;
}

/*
 Add some vertical padding and expand the width
 to fill its container. The horizontal padding
 comes at the line level so that background
 colors extend edge to edge.
*/
pre code.torchlight {
    @apply block py-4 min-w-max text-sm leading-loose;
}

/*
 Horizontal line padding.
*/
pre code.torchlight .line {
    @apply px-6;
}

/*
 Push the code away from the line numbers and
 summary caret indicators.
*/
pre code.torchlight .line-number,
pre code.torchlight .summary-caret {
    @apply mr-4;
}

.torchlight summary:focus {
    outline: none;
}

/* Hide the default markers, as we provide our own */
.torchlight details>summary::marker,
.torchlight details>summary::-webkit-details-marker {
    display: none;
}

.torchlight details .summary-caret::after {
    pointer-events: none;
}

/* Add spaces to keep everything aligned */
.torchlight .summary-caret-empty::after,
.torchlight details .summary-caret-middle::after,
.torchlight details .summary-caret-end::after {
    content: " ";
}

/* Show a minus sign when the block is open. */
.torchlight details[open] .summary-caret-start::after {
    content: "-";
}

/* And a plus sign when the block is closed. */
.torchlight details:not([open]) .summary-caret-start::after {
    content: "+";
}

/* Hide the [...] indicator when open. */
.torchlight details[open] .summary-hide-when-open {
    display: none;
}

/* Show the [...] indicator when closed. */
.torchlight details:not([open]) .summary-hide-when-open {
    display: initial;
}

/*
  Blur and dim the lines that don't have the `.line-focus` class,
  but are within a code block that contains any focus lines.
*/
.torchlight.has-focus-lines .line:not(.line-focus) {
    transition: filter 0.35s, opacity 0.35s;
    filter: blur(.095rem);
    opacity: .65;
}

/*
  When the code block is hovered, bring all the lines into focus.
*/
.torchlight.has-focus-lines:hover .line:not(.line-focus) {
    filter: blur(0px);
    opacity: 1;
}
