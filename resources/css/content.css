article, .markdown {
    background: white;
    h1 {
        @apply font-display font-extrabold text-7xl mb-6;
    }

    h2 {
        @apply font-display font-extrabold text-3xl mb-6 mt-16 relative;
    }

    h3 {
        @apply font-display font-extrabold text-xl mb-2 mt-12 relative;
    }

    p {
        @apply text-lg mb-6;
        line-height: 1.75em;
    }

    ul {
        @apply mb-6;
    }

    a {
        @apply text-pink font-bold underline;
        &:hover {
            @apply text-purple;
        }
    }

    a svg.external {
        @apply inline-block text-gray-dark;
        vertical-align: text-top;
    }

    h2>.anchor,
    h3>.anchor {
        @apply absolute top-0 no-underline text-white opacity-0;
        text-shadow: -1px -1px 0 theme('colors.pink.DEFAULT'),
            1px -1px 0 theme('colors.pink.DEFAULT'),
            -1px 1px 0 theme('colors.pink.DEFAULT'),
            1px 1px 0 theme('colors.pink.DEFAULT');
        transition: all .2s ease-in-out;
        &:hover {
            @apply text-pink;
            text-shadow: none;
        }
    }

    h2 > .anchor {
        @apply -left-10 pr-4;
    }

    h2:hover > .anchor {
        @apply -left-8 opacity-100;
    }

    h3 > .anchor {
        @apply -left-7 pr-2;
    }

    h3:hover > .anchor {
        @apply -left-5 opacity-100;
    }

    > ul:not(.list-none) {
        @apply pl-0 list-none mb-6 text-base;

        li {
            @apply relative pl-6 mb-2;

            &::before {
                @apply absolute inline-block;
                content: url('/img/triangle-pink.svg');
                top: 10px;
                left: 2px;
            }

            &:nth-child(3n+0)::before {
                content: url('/img/triangle-pink.svg');
            }

            &:nth-child(3n+1)::before {
                content: url('/img/triangle-purple.svg');
            }

            &:nth-child(3n+2)::before {
                content: url('/img/triangle-teal.svg');
            }

            a {
                @apply underline text-pink font-bold;

                &:hover {
                    @apply text-pink;
                }
            }
        }
    }

    > ol {
        @apply list-none mb-6 text-lg;
        counter-reset: item;

        >li {
            @apply relative pl-10 mb-2;
        }

        >li::before {
            @apply absolute top-0 left-0 mt-px flex items-center justify-center h-6 w-6 bg-yellow rounded-full text-lg font-bold font-display;
            content: counter(item);
            counter-increment: item;
        }
    }

    table {
        @apply border-2 rounded-md border-separate overflow-hidden w-full;
        border-spacing: 0;

        thead {
            @apply bg-black text-white font-display font-bold text-lg;
            th {
                @apply px-5 py-2 text-left;
            }
        }
        tbody {
            tr {
                @apply even:bg-gray-lightest;
            }
            td {
                @apply px-5 py-3;
            }
            p {
                @apply text-base leading-tight;
            }
            :not(pre) > code {
                @apply bg-transparent font-bold text-purple;
            }
        }
    }
}

article, .markdown {
    blockquote {
        p { @apply text-base; }
        &:before {
            content: '';
            background: url('/img/label-tip.svg') no-repeat;
            height: 40px;
            width: 94px;
            position: absolute;
            top: -10px;
            left: -12px;
            z-index: 2;
        }

        &.warning {
            &:before {
                background: url('/img/label-warning.svg') no-repeat;
            }
        }

        &.best-practice {
            &:before {
                background: url('/img/label-best-practice.svg') no-repeat;
                height: 48px;
                width: 138px;
                top: -18px;
                left: -16px;
            }
        }
    }
}

.markdown-tight, table {
    h1, h2, h3, h4, h5, h6 {
        @apply m-0;
    }

    p, ul, ol {
        font-size: inherit;
    }

    p:last-child {
        @apply mb-0;
    }
}

.parameter .markdown {
    p {
        @apply text-base;
    }

    :not(pre)>code {
        @apply bg-transparent text-purple font-bold text-sm;
    }
}

.toc {
    @apply font-display py-3 space-y-4;
    column-count: 3;
    column-rule: 1px dashed theme('colors.black');

    li {
        @apply px-3 leading-tight text-base;
    }

    li a {
        @apply text-black no-underline hover:text-pink font-medium;
    }
}
